# Enhanced Snake Game 🐍✨ v3.0

一个功能完善的现代化贪吃蛇游戏，使用 Python + Pygame 开发，具有丰富的视觉效果、音效系统和儿童友好设计！

## 🎮 游戏特色

### 🎨 界面系统
- **模块化菜单**: 3列清晰布局，告别"操作混在一起"的困扰
  - 【Movement】移动控制
  - 【Game】游戏操作
  - 【Menu】菜单设置
- **完整HUD显示**: 4个信息面板
  - 左上: 分数+速度+进度条
  - 右上: 难度+音乐风格
  - 左侧: 激活道具+倒计时
  - 右下: 💣炸弹状态
- **主题颜色系统**: 所有UI自动适配当前主题颜色
- **Emoji图标**: 🎨 🐍 ⚙️ 🎵 💣 增强视觉识别

### 🎯 道具系统
- **三种道具，清晰可见**:
  - 🔵 **Slow Potion** (减速药水): 降低蛇速度
  - 🟡 **Shield** (护盾): 免死一次
  - 🩷 **Double Score** (双倍分数): 8秒双倍得分
- **30px大图标** + 名称标签 (从20px无标签升级)
- **3层发光效果** + 增强脉冲动画
- **HUD道具栏**: 实时显示激活道具和剩余时间

### 🍎 食物系统
- **明确标识**: 显示 "🍎 FOOD +10" 标签
- **旋转菱形**: 持续脉冲+旋转动画
- **5层发光效果**: 金黄色光晕
- **闪烁粒子**: 环绕食物的白色星光
- **永远可见**: 绘制顺序优化，确保不被遮挡

### 🔊 音效系统 (11种音效!)
**道具收集音效**:
- 🔵 Slow Potion: 下降音阶 (平静感)
- 🟡 Shield: 上升音阶 (保护感)
- 🩷 Double Score: 闪烁音型 (兴奋感)

**游戏事件音效**:
- 🍎 吃食物: 高音beep
- 🎨 切换主题: C大调琶音
- 🔥 连击: 3级音效 (2x/3x/5x+)
- 💔 护盾破碎: 玻璃破碎效果
- 💥 碰撞: 低音爆炸
- ⏸️ 暂停: 短促beep

**背景音乐 (4种风格)**:
1. **Retro Arcade** (复古街机): 8-bit风格，多段和弦
2. **Chiptune** (芯片音乐): 方波旋律，duty cycle调制
3. **Ambient** (环境音乐): 平静氛围，慢速pad
4. **Kids** (儿童友好) ⭐:
   - C大调五声音阶 (无不和谐)
   - "小羊玛丽"风格简单旋律
   - 鼓励性Game Over音乐 (非悲伤)

### ✨ 视觉特效
- **粒子轨迹系统**:
  - 蛇尾部发射彩色粒子
  - 重力/漂移物理效果
  - 淡出动画 (生命周期alpha)
  - 3层粒子发光
- **屏幕震动效果**:
  - 蛇死亡: 强烈震动
  - 炸弹爆炸: 中等震动
  - 震动强度随时间衰减
- **表情系统**:
  - 😐 Normal (普通)
  - 😊 Happy (2+ combo)
  - 🤩 Excited (3+ combo, 星星眼)
  - 😰 Worried (危险时)

### 🎯 难度系统
- **Easy** (简单):
  - 穿墙模式 (撞墙传送到对侧)
  - 速度: 5 FPS
  - 无炸弹
- **Medium** (中等):
  - 速度: 8 FPS
  - 3个炸弹
- **Hard** (困难):
  - 速度: 12 FPS
  - 1个炸弹

### 🎨 主题系统 (4种)
1. **Dark Tech** (暗黑科技): 霓虹绿+深色背景
2. **Kids Bright** (儿童明亮): 明快色彩+优化对比度
3. **Ocean** (海洋): 蓝绿色调+水下感
4. **Candy** (糖果): 粉紫色调+优化对比度

### 💣 炸弹系统
- **按B键放置炸弹**: 3秒倒计时，爆炸范围伤害
- **HUD显示**: 💣数量 + 冷却状态
- **菜单显示**: 清楚说明"B - Use Bomb"
- **爆炸特效**: 粒子系统 + 屏幕震动

### 🏆 分数系统
- **浮动分数文字**: 颜色区分分值
  - 白色: <20分
  - 绿色: 20-50分
  - 金色: 50+分
- **连击系统**:
  - 2x Combo 🔥
  - 3x Combo 🔥🔥
  - 5x+ Combo 🔥🔥🔥 (爆炸文字)
- **分数乘数**: 道具+难度+连击

## 🎮 游戏控制

### 主菜单
- **SPACE** - 开始游戏
- **Q** - 退出程序
- **T** - 切换主题 (4种)
- **D** - 切换难度 (Easy/Medium/Hard)
- **N** - 切换音乐 (Retro/Chiptune/Ambient/Kids)
- **M** - 音乐开/关
- **F** - 全屏/窗口切换

### 游戏中
- **↑↓←→** - 控制方向
- **P** - 暂停/继续
- **B** - 放置炸弹 (如果有)
- **Q** - 返回主菜单
- **T/D/N/M/F** - 同菜单功能

### 游戏结束
- **R** - 重新开始
- **Q** - 退出程序

## 🚀 快速开始

### 安装依赖
```bash
pip install pygame numpy
```

### 运行游戏
```bash
python3 main.py
```

### 系统要求
- Python 3.9+
- Pygame 2.5.2+
- NumPy 1.19.0+ (用于音频生成)
- macOS/Windows/Linux

## 📁 项目结构

```
jeff-snake-game/
├── main.py                  # 游戏入口
├── src/
│   ├── config/
│   │   ├── config.py        # 游戏常量
│   │   ├── themes.py        # 主题系统 ⭐
│   │   └── window_config.py # 窗口配置
│   ├── core/
│   │   └── difficulty.py    # 难度系统 ⭐
│   ├── game/
│   │   ├── game.py          # 主游戏逻辑 (重构)
│   │   ├── snake.py         # 蛇+表情系统 ⭐
│   │   ├── food.py          # 食物+标签 ⭐
│   │   ├── bomb.py          # 炸弹系统
│   │   ├── powerups.py      # 道具系统 ⭐
│   │   └── sound_manager.py # 音效系统 (11种音效) ⭐
│   ├── effects/
│   │   ├── floating_text.py # 浮动文字系统
│   │   └── particle_system.py # 粒子轨迹 ⭐ NEW
│   └── ui/
│       └── hud_renderer.py  # HUD系统 ⭐ NEW
├── README.md
└── TODO.md                  # v3.0完成清单
```

## 🎯 v3.0 更新日志 (2026-01-18)

### ✅ 已解决的用户反馈
1. ✅ **"首页不友好，操作混在一起"**
   → 3列模块化菜单，清晰分组

2. ✅ **"多颜色的板子我也不知道是什么"**
   → 30px图标 + "Slow Potion"/"Shield"/"Double Score" 标签

3. ✅ **"没有炸弹"**
   → HUD右下角显示 💣 x3 + 冷却状态

4. ✅ **"音效不够牛逼"**
   → 11种新音效 + Kids儿童音乐风格

5. ✅ **"颜色对比不友好"**
   → Kids/Candy主题文本加深，清晰可读

6. ✅ **"怎么退出游戏"**
   → Q键返回菜单（菜单中Q退出程序）

7. ✅ **"食物有时候不出来"**
   → 添加"🍎 FOOD +10"标签 + 绘制顺序优化

### 🎉 新增功能
- 🎨 完整HUD系统 (4个面板)
- 🔊 11种音效 + Kids音乐风格
- ✨ 粒子轨迹系统
- 📳 屏幕震动效果
- 🎯 改进的道具显示
- 🌈 主题颜色对比度优化

### 🎮 下一步计划
查看 [TODO.md](TODO.md) 了解可选后续改进

## 📝 技术亮点

- **模块化架构**: 主题、难度、音效、UI完全解耦
- **主题系统**: 所有颜色从主题对象读取，支持运行时切换
- **音频生成**: NumPy程序化生成音效，无需音频文件
- **粒子物理**: 简单的重力+衰减系统
- **ADSR包络**: 道具音效使用Attack-Decay-Sustain-Release
- **屏幕震动**: 基于强度和持续时间的平滑衰减

## 👨‍💻 开发信息

- **版本**: v3.0
- **开发者**: Claude (协助)
- **框架**: Pygame 2.5.2
- **Python**: 3.9.6
- **最后更新**: 2026-01-18

## 📄 许可证

本项目仅供学习和娱乐使用。

---

**🎮 玩得开心！Have Fun!**

💡 提示: 尝试Kids主题 + Kids音乐 = 完美的儿童友好体验！
